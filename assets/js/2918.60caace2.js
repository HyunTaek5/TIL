"use strict";(self.webpackChunktil=self.webpackChunktil||[]).push([[2918],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>c});var r=n(7294);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){if(null==e)return{};var n,r,l=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var o=r.createContext({}),d=function(e){var t=r.useContext(o),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=d(e.components);return r.createElement(o.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,l=e.mdxType,a=e.originalType,o=e.parentName,s=p(e,["components","mdxType","originalType","parentName"]),m=d(n),c=l,k=m["".concat(o,".").concat(c)]||m[c]||u[c]||a;return n?r.createElement(k,i(i({ref:t},s),{},{components:n})):r.createElement(k,i({ref:t},s))}));function c(e,t){var n=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var a=n.length,i=new Array(a);i[0]=m;var p={};for(var o in t)hasOwnProperty.call(t,o)&&(p[o]=t[o]);p.originalType=e,p.mdxType="string"==typeof e?e:l,i[1]=p;for(var d=2;d<a;d++)i[d]=n[d];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2918:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>a,metadata:()=>p,toc:()=>d});n(7294);var r=n(3905);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}const a={title:"2023-12-11",tags:["NestJs","Request","LifeCycle"]},i="NestJs - Request LifeCycle",p={unversionedId:"2023/2023-12/2023-12-11",id:"2023/2023-12/2023-12-11",title:"2023-12-11",description:"NestJs - Request LifeCycle",source:"@site/docs/2023/2023-12/2023-12-11.md",sourceDirName:"2023/2023-12",slug:"/2023/2023-12/2023-12-11",permalink:"/TIL/docs/2023/2023-12/2023-12-11",draft:!1,tags:[{label:"NestJs",permalink:"/TIL/docs/tags/nest-js"},{label:"Request",permalink:"/TIL/docs/tags/request"},{label:"LifeCycle",permalink:"/TIL/docs/tags/life-cycle"}],version:"current",frontMatter:{title:"2023-12-11",tags:["NestJs","Request","LifeCycle"]},sidebar:"tutorialSidebar",previous:{title:"2023-12-09",permalink:"/TIL/docs/2023/2023-12/2023-12-09"},next:{title:"2023-12-13",permalink:"/TIL/docs/2023/2023-12/2023-12-13"}},o={},d=[{value:"Request LifeCycle",id:"request-lifecycle",level:2},{value:"Middleware",id:"middleware",level:3},{value:"Guards",id:"guards",level:3},{value:"Interceptors",id:"interceptors",level:3},{value:"Pipes",id:"pipes",level:3},{value:"Filters",id:"filters",level:3},{value:"Request LifeCycle - 1 \uc0ac\uc774\ud074",id:"request-lifecycle---1-\uc0ac\uc774\ud074",level:2}],s={toc:d};function u(e){var{components:t}=e,n=function(e,t){if(null==e)return{};var n,r,l={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,["components"]);return(0,r.kt)("wrapper",l({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",l({},{id:"nestjs---request-lifecycle"}),"NestJs - Request LifeCycle"),(0,r.kt)("p",null,"NestJs - Request LifeCycle"),(0,r.kt)("h2",l({},{id:"request-lifecycle"}),"Request LifeCycle"),(0,r.kt)("p",null,"Nest\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"Request LifeCycle"),"\ub77c\uace0 \ud558\ub294 \uc21c\uc11c\uc5d0 \ub530\ub77c \uc694\uccad\uc744 \ucc98\ub9ac\ud558\uace0 \uc751\ub2f5\uc744 \uc0dd\uc131\ud55c\ub2e4. ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Pipes"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Guards")," \ubc0f ",(0,r.kt)("inlineCode",{parentName:"p"},"Interceptors"),"\ub97c \uc0ac\uc6a9\ud558\uba74 ",(0,r.kt)("inlineCode",{parentName:"p"},"Global"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Route Handler"),"\uac00 \uc791\ub3d9\ud560 \ub54c ",(0,r.kt)("inlineCode",{parentName:"p"},"Request LifeCycle")," \ub3d9\uc548 \ud2b9\uc815 \ucf54\ub4dc\uac00 \uc2e4\ud589\ub418\ub294 \uc704\uce58\ub97c \ucd94\uc801\ud558\ub294 \uac83\uc774 \uc5b4\ub824\uc6b8 \uc218 \uc788\ub2e4. \uc77c\ubc18\uc801\uc778 \uc694\uccad\uc740 ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware"),"\ub97c \ud1b5\ud574 ",(0,r.kt)("inlineCode",{parentName:"p"},"Guards"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Interceptors"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Pipes"),",  API\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"Interceptors"),"\ub85c \uc774\ub3d9\ud55c\ub2e4."),(0,r.kt)("h3",l({},{id:"middleware"}),"Middleware"),(0,r.kt)("p",null,"Nest\ub294 \uc804\uc5ed\uc801\uc73c\ub85c \ubc14\uc778\ub529\ub41c ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware"),"( ex. ",(0,r.kt)("inlineCode",{parentName:"p"},"app.use()"),"\ub85c \ubc14\uc778\ub529\ub41c ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware")," )\ub97c \uc2e4\ud589\ud55c \ub2e4\uc74c \uacbd\ub85c\uc5d0\uc11c \uacb0\uc815\ub418\ub294 \ubaa8\ub4c8 \ubc14\uc778\ub529 ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware"),"\ub97c \uc2e4\ud589\ud55c\ub2e4. ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware"),"\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"Express"),"\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware")," \uc791\ub3d9 \ubc29\uc2dd\uacfc \uc720\uc0ac\ud558\uac8c \ubc14\uc778\ub529\ub41c \uc21c\uc11c\ub300\ub85c \uc21c\ucc28\uc801\uc73c\ub85c \uc2e4\ud589\ub41c\ub2e4. \uc11c\ub85c \ub2e4\ub978 \ubaa8\ub4c8\uc5d0 \ubc14\uc778\ub529\ub41c ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware"),"\uc758 \uacbd\uc6b0 \ub8e8\ud2b8 \ubaa8\ub4c8\uc5d0 \ubc14\uc778\ub529\ub41c ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware"),"\uac00 \uba3c\uc800 \uc2e4\ud589\ub41c \ub2e4\uc74c \ubaa8\ub4c8\uc774 imports \ubc30\uc5f4\uc5d0 \ucd94\uac00\ub41c \uc21c\uc11c\ub300\ub85c ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware"),"\uac00 \uc2e4\ud589\ub41c\ub2e4."),(0,r.kt)("h3",l({},{id:"guards"}),"Guards"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"Guards")," \uc2e4\ud589\uc740 ",(0,r.kt)("inlineCode",{parentName:"p"},"Global Guards"),"\ub85c \uc2dc\uc791\ud558\uc5ec ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller Guards"),"\ub85c \uc9c4\ud589\ub418\uace0 \ub9c8\uc9c0\ub9c9\uc73c\ub85c ",(0,r.kt)("inlineCode",{parentName:"p"},"Route Guards"),"\ub85c \uc9c4\ud589\ub41c\ub2e4. ",(0,r.kt)("inlineCode",{parentName:"p"},"Middleware"),"\uc640 \ub9c8\ucc2c\uac00\uc9c0\ub85c ",(0,r.kt)("inlineCode",{parentName:"p"},"Guards"),"\ub294 \ubc14\uc778\ub529\ub41c \uc21c\uc11c\ub300\ub85c \uc2e4\ud589\ub41c\ub2e4."),(0,r.kt)("h3",l({},{id:"interceptors"}),"Interceptors"),(0,r.kt)("p",null,"\ub300\ubd80\ubd84\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"Interceptors"),"\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"Guards"),"\uc640 \ub3d9\uc77c\ud55c \ud328\ud134\uc744 \ub530\ub974\uc9c0\ub9cc \ud55c \uac00\uc9c0\uac00 \ub2e4\ub974\ub2e4. ",(0,r.kt)("inlineCode",{parentName:"p"},"Interceptors"),"\uac00 ",(0,r.kt)("inlineCode",{parentName:"p"},"RxJS Observable"),"\uc744 \ubc18\ud658\ud558\ubbc0\ub85c ",(0,r.kt)("inlineCode",{parentName:"p"},"Observable"),"\uc740  \ucc98\uc74c \ub4e4\uc5b4\uc628 \uc21c\uc73c\ub85c \ucc98\ub9ac\ub41c\ub2e4.  \uc778\ubc14\uc6b4\ub4dc \uc694\uccad\uc740 \uc804\uc5ed, ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Route")," \uc218\uc900\uc758 \ud655\uc778\uc744 \uac70\uce58\uc9c0\ub9cc \uc694\uccad\uc758 \uc751\ub2f5\uc774 ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Method handler"),"\uc5d0\uc11c \ubc18\ud658\ub41c \ud6c4, ",(0,r.kt)("inlineCode",{parentName:"p"},"Route"),"\uc5d0\uc11c ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Global"),"\uc21c\uc73c\ub85c \ud655\uc778\ud55c\ub2e4. ",(0,r.kt)("inlineCode",{parentName:"p"},"Pipes"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller")," \ub610\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"Service"),"\uc5d0\uc11c \ubc1c\uc0dd\ud558\ub294 \ubaa8\ub4e0 \uc624\ub958\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"Interceptors"),"\uc758 ",(0,r.kt)("inlineCode",{parentName:"p"},"catchError")," \uc5f0\uc0b0\uc790\uc5d0\uc11c \uc77d\uc744 \uc218 \uc788\ub2e4."),(0,r.kt)("h3",l({},{id:"pipes"}),"Pipes"),(0,r.kt)("p",null,"\ud30c\uc774\ud504\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"@UsePipes()")," \ub9e4\uac1c\ubcc0\uc218\uc640 \uad00\ub828\ud558\uc5ec \ub3d9\uc77c\ud55c ",(0,r.kt)("inlineCode",{parentName:"p"},"FIFO")," \ubc29\uc2dd\uc73c\ub85c ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller"),"\uc5d0 \ub300\ud55c \ud45c\uc900 \uc804\uc5ed\uc744 \ub530\ub77c \ubc14\uc778\ub529\ub41c \uc2dc\ud000\uc2a4\ub97c \ub77c\uc6b0\ud305\ud55c\ub2e4. \uadf8\ub7ec\ub098 ",(0,r.kt)("inlineCode",{parentName:"p"},"Routing Param "),"\uc5d0\uc11c \uc2e4\ud589 \uc911\uc778 \ud30c\uc774\ud504\uac00 \uc5ec\ub7ec \uac1c\uc778 \uacbd\uc6b0 \ud30c\uc774\ud504\ub294 \uccab \ubc88\uc9f8 \ub9e4\uac1c\ubcc0\uc218\ubd80\ud130 \ub9c8\uc9c0\ub9c9 \ub9e4\uac1c\ubcc0\uc218\uc758 \uc21c\uc11c\ub85c \uc2e4\ud589\ub41c\ub2e4. \uc774\ub294 ",(0,r.kt)("inlineCode",{parentName:"p"},"Route")," \ubc0f ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller")," \ud30c\uc774\ud504\uc5d0\ub3c4 \uc801\uc6a9\ub41c\ub2e4."),(0,r.kt)("h3",l({},{id:"filters"}),"Filters"),(0,r.kt)("p",null,"\ud544\ud130\ub294 \uc804\uc5ed\uc744 \uc6b0\uc120\uc801\uc73c\ub85c \ucc98\ub9ac\ud558\uc9c0 \uc54a\ub294 \uc720\uc77c\ud55c \uad6c\uc131 \uc694\uc18c\uc774\ub2e4.  \ud544\ud130\ub294 \uac00\ub2a5\ud55c \uac00\uc7a5 \ub0ae\uc740 \uc218\uc900\uc5d0\uc11c\ubd80\ud130 \ud655\uc778\ud55c\ub2e4. \ubaa8\ub4e0 ",(0,r.kt)("inlineCode",{parentName:"p"},"Route"),"\uc5d0 \ubc14\uc778\ub529\ub41c \ud544\ud130, ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller"),"\uc218\uc900, \ub9c8\uc9c0\ub9c9\uc73c\ub85c \uc804\uc5ed \uc218\uc900 \ud544\ud130\ub85c \uc9c4\ud589\ub41c\ub2e4. \uc608\uc678\ub294 \ud544\ud130\uc5d0\uc11c \ud544\ud130\ub85c \uc804\ub2ec\ub420 \uc218 \uc5c6\ub2e4. ",(0,r.kt)("inlineCode",{parentName:"p"},"Route")," \uc218\uc900 \ud544\ud130\uac00 \uc608\uc678\ub97c \ud3ec\ucc29\ud558\ub294 \uacbd\uc6b0, ",(0,r.kt)("inlineCode",{parentName:"p"},"Controller")," \ub610\ub294 \uc804\uc5ed \uc218\uc900 \ud544\ud130\ub294 \ub3d9\uc77c\ud55c \uc608\uc678\ub97c \ud3ec\ucc29\ud560 \uc218 \uc5c6\ub2e4. \ud544\ud130\uc5d0\uc11c \ud544\ud130\ub85c \uc608\uc678\ub97c \uc804\ub2ec\ud558\ub294 \uac83\uacfc \ub3d9\uc77c\ud55c \ud6a8\uacfc\ub97c \ub0b4\ub294 \ubc29\ubc95\uc740 \ud544\ud130 \uac04\uc5d0 \uc0c1\uc18d\uc744 \uc0ac\uc6a9\ud558\ub294 \uac83\uc774\ub2e4."),(0,r.kt)("h2",l({},{id:"request-lifecycle---1-\uc0ac\uc774\ud074"}),"Request LifeCycle - 1 \uc0ac\uc774\ud074"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Incoming request"),(0,r.kt)("li",{parentName:"ol"},"Middleware",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"2.1. Globally bound middleware"),(0,r.kt)("li",{parentName:"ul"},"2.2. Module bound middleware"))),(0,r.kt)("li",{parentName:"ol"},"Guards",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"3.1 Global guards"),(0,r.kt)("li",{parentName:"ul"},"3.2 Controller guards"),(0,r.kt)("li",{parentName:"ul"},"3.3 Route guards"))),(0,r.kt)("li",{parentName:"ol"},"Interceptors (pre-controller)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"4.1 Global interceptors"),(0,r.kt)("li",{parentName:"ul"},"4.2 Controller interceptors"),(0,r.kt)("li",{parentName:"ul"},"4.3 Route interceptors"))),(0,r.kt)("li",{parentName:"ol"},"Pipes",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"5.1 Global pipes"),(0,r.kt)("li",{parentName:"ul"},"5.2 Controller pipes"),(0,r.kt)("li",{parentName:"ul"},"5.3 Route pipes"),(0,r.kt)("li",{parentName:"ul"},"5.4 Route parameter pipes"))),(0,r.kt)("li",{parentName:"ol"},"Controller (method handler)"),(0,r.kt)("li",{parentName:"ol"},"Service (if exists)"),(0,r.kt)("li",{parentName:"ol"},"Interceptors (post-request)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"8.1 Route interceptor"),(0,r.kt)("li",{parentName:"ul"},"8.2 Controller interceptor"),(0,r.kt)("li",{parentName:"ul"},"8.3 Global interceptor"))),(0,r.kt)("li",{parentName:"ol"},"Exception filters",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"9.1 route"),(0,r.kt)("li",{parentName:"ul"},"9.2 controller"),(0,r.kt)("li",{parentName:"ul"},"9.3 global"))),(0,r.kt)("li",{parentName:"ol"},"Server response")))}u.isMDXComponent=!0}}]);